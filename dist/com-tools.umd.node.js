!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.comTools=r():t.comTools=r()}(global,(function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r){t.exports=require("es-expand")},function(t,r,e){"use strict";e.r(r),e.d(r,"ByURL",(function(){return s})),e.d(r,"parseUrl",(function(){return l})),e.d(r,"stringifyUrl",(function(){return c})),e.d(r,"splitURLByQueryString",(function(){return h})),e.d(r,"JSONQueryStringify",(function(){return f})),e.d(r,"parseJSONQueryString",(function(){return p})),e.d(r,"parseJSONQueryStrObjProperty",(function(){return d})),e.d(r,"queryStringify",(function(){return m})),e.d(r,"parseQueryString",(function(){return y})),e.d(r,"similarQueryStringify",(function(){return v})),e.d(r,"parseSimilarQueryString",(function(){return b})),e.d(r,"ByURLSearchParams",(function(){return O})),e.d(r,"isEqualOfJSON",(function(){return _})),e.d(r,"multipleLoop",(function(){return w})),e.d(r,"safelyIterate",(function(){return F})),e.d(r,"getTypeOf",(function(){return L})),e.d(r,"getTypeStringOf",(function(){return C})),e.d(r,"defineListenableProperty",(function(){return I})),e.d(r,"defineListenableProperties",(function(){return T})),e.d(r,"defineListenablePropertyGetter",(function(){return N})),e.d(r,"createUniqueIdentifier",(function(){return R})),e.d(r,"createControllablePromise",(function(){return A}));e(0);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var s=function(){function t(r,e,n){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"deleUrlUtilsMap",{url:["origin","protocol","host","hostname","port","pathname","pathList","absPath"],origin:["protocol","host","hostname","port"],host:["hostname","port"],pathname:["pathList","absPath"],pathList:["pathname","absPath"],search:["searchParams","params"],searchParams:["search","params"],hash:["hashSearch","hashParams","hashUrlUtils","params"],hashSearch:["hashParams","params"],hashParams:["hashSearch","params"],hashUrlUtils:["hash","hashSearch","hashParams","params"],addSearchParams:["addSearch"],addHashParams:["addHashSearch"]}),a(this,"paramsPropParse",void 0),a(this,"paramsPropStringify",void 0),this.paramsPropParse=e,this.paramsPropStringify=n,this.initUrl=r}var r,e,s;return r=t,(e=[{key:"_deleUrlUtilsFor",value:function(t){var r=this,e=this.deleUrlUtilsMap[t];e&&e.forEach((function(t){r.urlUtils[t]=void 0}))}},{key:"addSearchParams",value:function(t,r){if(t){var e=this.urlUtils.addSearchParams||{};"object"==n(t)?Object.assign(e,t):e[t]=r,this._deleUrlUtilsFor("addSearchParams"),this.urlUtils.addSearchParams=e}return this.urlUtils.addSearchParams}},{key:"addHashParams",value:function(t,r){if(t){var e=this.urlUtils.addHashParams||{};"object"==n(t)?Object.assign(e,t):e[t]=r,this._deleUrlUtilsFor("addHashParams"),this.urlUtils.addHashParams=e}return this.urlUtils.addHashParams}},{key:"urlUtils",set:function(t){this._urlUtils=t},get:function(){return this._urlUtils||(this._urlUtils={}),this._urlUtils}},{key:"initUrl",set:function(t){if(this._initUrl=t,t){var r=t;"object"!=n(t)&&(r=l(t,this.paramsPropParse,this.paramsPropStringify)),this.urlUtils=r}},get:function(){return this._initUrl}},{key:"href",get:function(){return c(this.urlUtils,this.paramsPropStringify,this.paramsPropParse)},set:function(t){this.initUrl=t}},{key:"url",get:function(){return this.urlUtils.url},set:function(t){this._deleUrlUtilsFor("url"),this.urlUtils.url=t}},{key:"origin",get:function(){return this.urlUtils.origin},set:function(t){this._deleUrlUtilsFor("origin"),this.urlUtils.origin=origin}},{key:"protocol",get:function(){return this.urlUtils.protocol},set:function(t){this._deleUrlUtilsFor("protocol"),this.urlUtils.protocol=t}},{key:"host",get:function(){return this.urlUtils.host},set:function(t){this._deleUrlUtilsFor("host"),this.urlUtils.host=t}},{key:"hostname",get:function(){return this.urlUtils.hostname},set:function(t){this._deleUrlUtilsFor("hostname"),this.urlUtils.hostname=t}},{key:"port",get:function(){return this.urlUtils.port},set:function(t){this._deleUrlUtilsFor("port"),this.urlUtils.port=t}},{key:"pathname",get:function(){return this.urlUtils.pathname},set:function(t){this._deleUrlUtilsFor("pathname"),this.urlUtils.pathname=t}},{key:"pathList",get:function(){return this.urlUtils.pathList},set:function(t){this._deleUrlUtilsFor("pathList"),this.urlUtils.pathList=t}},{key:"absPath",get:function(){return this.urlUtils.absPath}},{key:"search",get:function(){return this.urlUtils.search},set:function(t){this._deleUrlUtilsFor("search"),this.urlUtils.search=t}},{key:"searchParams",get:function(){return this.urlUtils.search},set:function(t){this._deleUrlUtilsFor("searchParams"),this.urlUtils.searchParams=t}},{key:"hash",get:function(){return this.urlUtils.hash},set:function(t){this._deleUrlUtilsFor("hash"),this.urlUtils.hash=t}},{key:"hashSearch",get:function(){return this.urlUtils.hashSearch},set:function(t){this._deleUrlUtilsFor("hashSearch"),this.urlUtils.hashSearch=t}},{key:"hashParams",get:function(){return this.urlUtils.hashParams},set:function(t){this._deleUrlUtilsFor("hashParams"),this.urlUtils.hashParams=t}},{key:"hashUrlUtils",get:function(){return this.urlUtils.hashUrlUtils},set:function(t){this._deleUrlUtilsFor("hashUrlUtils"),this.urlUtils.hashUrlUtils=t}},{key:"params",get:function(){return this.urlUtils.params}}])&&i(r.prototype,e),s&&i(r,s),t}();function o(t){return JSON.correctParse(t)}function u(t,r,e){return"object"==n(t)&&(t=JSON.stringify(t)),t}function l(t,r,e){var n=/([^./:\s]+(?:\.[^./:\s]+)+)(?::(\d+))?|([^./:\s]+)(?::(\d+))/;r||(r=o),e||(e=u);var i=t.trim(),a=h(i),s=a.url,c=a.search,f=a.hash;if(s){var p=s,d=s.split("://");if(d.length>1){var m=d[0];p=d[1]}}if(p){var v=p.split("/");if(v.length>1){var b=v[0];if(/^\.+$/.test(b))var U=p,g=v.slice(1),P=!1;else if(b){var S=b.match(n);if(S){var O=S[0],j=S[1]||S[3],k=S[2]||S[4];U="/"+(g=v.slice(1)).join("/"),P=!0}else P=!1,g=v,U=p}else g=v.slice(1),U=p,P=!0}else(S=p.match(n))?(O=p,j=S[1],k=S[2],P=!0):(U=p,g=v,P=!1)}if(O)if(m)var _=m+"://"+O;else _=O;if(c)var w=y(c,r);if(f)var x=l(f.replace(/^#+/,""),r,e),F=x.search,L=x.params;if(w||L){var C={};w&&Object.assign(C,w),L&&Object.assign(C,L)}var I={href:i,url:s,origin:_,protocol:m,host:O,hostname:j,port:k,pathname:U,pathList:g,absPath:P,search:c,searchParams:w,hash:f,hashSearch:F,hashParams:L,hashUrlUtils:x,params:C};return Object.keys(I).reduce((function(t,r){var e=I[r];return null!=e&&(t[r]=e),t}),{})}function c(t,r,e){var n="";r||(r=u),e||(e=o);var i=t.href||t.url||t.origin;if(i){var a=l(i,e,r);t=Object.assign(a,t)}var s=t.protocol;s&&(n=s+"://");var h=t.host,f=t.hostname;if(f){h=f;var p=t.port;p&&(h+=":"+p)}h&&(n+=h);var d=t.pathname,v=t.pathList,b=t.absPath;!d&&v&&(d="/"+v.join("/")),d&&(d=d.trim(),(n||!0===b)&&(d=d.replace(/^[./]*/,"/")),n+=d);var U=t.search,g=t.searchParams;if(!g&&U&&(g=y(U,e)),g)var P=Object.assign({},g);var S=t.params;if(!g&&S){var O=t.hashParams||{},j=Object.keys(O);(g=S.filterProperty((function(t){return!j.includes(t)}))).noKeys&&(g=null)}var k=t.addSearchParams,_=t.addSearch;!k&&_&&(k=y(_,e)),g&&k?g=Object.assign({},g,k):k&&(g=k),(U=g&&!g.noKeys?m(g,!0,r):null)&&(n+=U);var w=t.hashSearch,x=t.hashParams;!x&&w&&(x=y(w,e)),!x&&P&&S&&(j=Object.keys(P),(x=S.filterProperty((function(t){return!j.includes(t)}))).noKeys&&(x=null));var F=t.addHashParams,L=t.addHashSearch;!F&&L&&(F=y(L,e)),x&&F?x=Object.assign({},x,F):F&&(x=F);var C=t.hash,I=t.hashUrlUtils;return(I||x)&&(I=I?Object.assign({},I):{},C&&(C=C.replace(/^#+/,""),I.href=C),x&&(I.searchParams=x),I.noKeys||(C=c(I,r,e))),C&&(n+=C=C.replace(/^#*/,"#")),n}function h(t){var r=t.indexOf("?"),e=t.indexOf("#"),n=t,i=void 0;e>=0&&(n=t.substring(0,e),i=t.substring(e));var a=void 0,s=n;return r>=0&&(a=n.substring(r),s=n.substring(0,r)),{url:s,search:a,hash:i}}function f(t,r){return m(t,r,u)}function p(t){return y(t,o)}function d(t){return Object.entries(t).reduce((function(t,r){var e=r[0];decodeURIComponent(r[1]);return t[e]=JSON.correctParse(r[1]),t}),{})}function m(t,r,e){2==arguments.length&&"function"==typeof r&&(e=r,r=void 0),e||(e=function(t){return t});var n=Object.entries(t).map((function(r,n,i){var a=r[0],s=encodeURIComponent(a),o=r[1];return o=e.call(t,o,a,t),s+"="+encodeURIComponent(o)})),i=n.join("&");return r&&(i="?"+i),i}function y(t,r){r||(r=function(t){return t});var e=t.indexOf("?"),n=t.indexOf("#");return-1==n&&(n=void 0),(t=(t=t.substring(e+1,n)).replace(/^\?/,"")).split("&").reduce((function(e,n){var i=n.split("="),a=decodeURIComponent(i[0]),s=decodeURIComponent(i[1]);return s=r(s,a,t),e[a]=s,e}),{})}function v(t,r){var e=r||{},n=e.prop,i=e.kv,a=e.map;return null==n&&(n="&"),null==i&&(i="="),a||(a=function(t){return t}),Object.entries(t).map((function(r,e,n){var s=r[0],o=r[1];return o=a.call(t,o,s,t),s+i+o})).join(n)}function b(t,r){var e=r||{},n=e.prop,i=e.kv,a=e.map;return null==n&&(n="&"),null==i&&(i="="),a||(a=function(t){return t}),t.split(n).reduce((function(r,e){var n=e.split(i),s=n[0],o=n[1];return o=a(o,s,t),r[s]=o,r}),{})}var U={toJSONqueryStringify:{enumerable:!1,value:function(t){return f(this,t)}}};Object.defineProperties(Object.prototype,U);var g={urlJSONQueryObj:{get:function(){return p(this)}}};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperties(String.prototype,g);var O=function(){function t(r,e){var n,i,a;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),a=!1,(i="queryPrefix")in(n=this)?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.paramsPropReplacer=e,this.initSearch=r}var r,e,n;return r=t,(e=[{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.queryPrefix,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.paramsPropReplacer;return m(this.params,t,r)}},{key:"append",value:function(t,r){this.params[t]=r}},{key:"delete",value:function(t){delete this.params[t]}},{key:"entries",value:function(){return Object.entries(this.params)}},{key:"forEach",value:function(t,r){this.entries().forEach(function(e){t.call(r,e[1],e[0],this)}.apply,this)}},{key:"get",value:function(t){return this.params[t]}},{key:"getAll",value:function(t){return[this.params[t]]}},{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"keys",value:function(){return Object.keys(this.params)}},{key:"set",value:function(t,r){this.params[t]=r}},{key:"sort",value:function(){}},{key:"values",value:function(){return Object.values(this.params)}},{key:"initSearch",set:function(t){if(this._initSearch=t,t){var r=t;"object"!=P(t)&&(r=y(t,this.paramsPropReplacer)),this.params=r}},get:function(){return this._initSearch}},{key:"params",set:function(t){this._params=t},get:function(){return this._params||(this._params={}),this._params}},{key:"search",get:function(){return m(this.params,this.queryPrefix,this.paramsPropReplacer)},set:function(t){this.initSearch=t}}])&&S(r.prototype,e),n&&S(r,n),t}();function j(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,r){if(!t)return;if("string"==typeof t)return k(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return k(t,r)}(t))){var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function k(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function _(t,r){return JSON.stringify(t)==JSON.stringify(r)}function w(t){var r=t.loopCall,e=t.complete,n=t.stepComplete,i=t.thisValue,a=t.total,s=void 0===a?Number.POSITIVE_INFINITY:a,o=t.step,u=void 0===o?50:o,l=t.delay,c=void 0===l?0:l,h=0,f=0,p=!1;function d(t){t&&(p=t,e&&e.call(i,p,h,f,s))}function m(){var t=h<s;return!t&&e&&e.call(i,!1,h-1,f,s),t}var y=null;return m()&&function t(){f++;for(var e=Math.min(h+u,s);h<e&&!p;)d(r.call(i,h,f,s)),h++;n&&d(n.call(i,h-1,f,s)),m()&&!p&&(y=setTimeout(t,c))}(),function(t){t||(t=!0),clearTimeout(y),d(t)}}var x={multipleLoop:{enumerable:!1,value:function(t){var r=this,e=t.loopCall,n=t.complete,i=t.stepComplete,a=t.thisValue,s=t.step,o=t.delay;a&&(a=this);var u={loopCall:function(t,n,i){return e.call(a,r[t],t,n,r)},total:this.length,step:s,delay:o};return n&&(u.complete=function(t,e,i,s){return n.call(a,t,e,i,r)}),i&&(u.stepComplete=function(t,e,n){return i.call(a,t,e,r)}),w(u)}}};function F(t,r,e){null==e&&(e=t);var n,i=[],a=j(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;i.push(s)}}catch(t){a.e(t)}finally{a.f()}return i.filter((function(n){var i=this.indexOf(n);r.call(e,n,i,t)}),i)}function L(t){var r=t;return null!=t&&(r=t.constructor),r}function C(t){switch(t){case void 0:var r="undefined";break;case null:r="null";break;default:r=t.constructor.name}return r}function I(t,r,e){var n=e||{},i=n.ready,a=void 0===i?r+"Ready":i,s=n.noEvent,o=n.event,u=void 0===o?r+"Change":o,l=n.newValueKey,c=void 0===l?"value":l,h=n.oldValueKey,f=void 0===h?"oldValue":h,p=n.getDefault,d="_"+a,m="_"+r;if(Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var t=this||window;if(!t[d]){var r=t[m];t[d]=r?Promise.resolve(r):A()}return t[d]},set:function(t){(this||window)[d]=t}}),p)var y=function(){var t=this||window;return!t[m]&&p&&(t[r]=p.call(t,t)),t[m]};else y=function(){return(this||window)[m]};if(s)var v=function(t){var r=this||window;if(t&&t!==r[m]){r[m];r[m]=t;var e=r[a];e.resolve?e.resolve(t):r[a]=Promise.resolve(t)}};else v=function(t){var r=this||window;if(t&&t!==r[m]){var e=r[m];r[m]=t;var n=r[a];n.resolve?n.resolve(t):r[a]=Promise.resolve(t);var i=new Event(u,{bubbles:!0});i[c]=t,i[f]=e,window.dispatchEvent(i)}};return Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:y,set:v}),t}function T(t,r,e){var n=r;return Array.isArray(r)&&(n=r.reduce((function(t,r){return t[r]=e,t}),{})),Object.keys(n).forEach((function(r){var e=n[r];I(t,r,e)})),t}function N(t,r,e,n){var i="_"+r;if(n)var a=e;else a=e?function(){var t=this||window;return!t[i]&&e&&(t[r]=e.call(t,t)),t[i]}:function(){return(this||window)[i]};Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:a})}function R(){return(new Date).getTime().toString()+Math.random()}function A(t,r){var e="function"==typeof t;e&&null==r&&(r=!0);var n={};function i(){o.resolve=void 0,o.reject=void 0,o.clearAdditions=void 0}function a(t){i(),n.resolve(t)}function s(t){i(),n.reject(t)}var o=new Promise((function(i,o){if(n.resolve=i,n.reject=o,e){if(!r)return t(a,s);setTimeout(t,0,a,s)}}));return o.clearAdditions=i,o.resolve=a,o.reject=s,o}Object.defineProperties(Array.prototype,x)}])}));
//# sourceMappingURL=com-tools.umd.node.js.map